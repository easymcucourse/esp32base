# 📡 ESP32 实战：蓝牙低功耗 (BLE) 重力骰子

这是 ESP32 实战系列的无线化升级版！通过 BLE (Bluetooth Low Energy) 技术，将姿态数据发送至手机或其他设备，摆脱 WiFi 的网络限制。

---

## 🛠️ 技术亮点

1.  **BLE 5.0 特性**: 使用 `Notify` 模式主动推送数据，实现极低延迟。
2.  **定点运算优化**: 姿态数据在 ESP32 端进行 100 倍缩放后以整数传输，节省带宽并减少浮点开销。
3.  **多核任务采集**: 利用 FreeRTOS 任务将传感器采集与蓝牙传输分离，保证采样频率不受通讯抖动影响。
4.  **远程控制**: 支持通过 BLE 写入 `calibrate` 指令触发远程硬件复位校准。

---

## 🚀 开发环境

- **核心库**: `NimBLE-Arduino` (推荐，内存占用更低) 或官方 `BLE` 库。
- **UUID 配置**:
  - Service: `4fafc201-1fb5-459e-8fcc-c5c9c331914b`
  - Characteristic: `beb5483e-36e1-4688-b7f5-ea07361b26a8`

---

## 🎮 如何使用

1.  **上传代码**: 将 `L26_dice_ble.ino` 上传至开发板。
2.  **连接手机**: 
    - 使用安卓/iOS 上的 **nRF Connect** 或 **LightBlue** 软件。
    - 扫描并连接设备：`ESP32_Dice_BLE`。
3.  **接收数据**:
    - 订阅特性 UUID。
    - 观察上报的 8 字节原始数据（对应 w, x, y, z 四元数）。

---

## 🛡️ 注意事项

- BLE 协议栈占用内存较大，如果编译报错，请尝试在扩展分区（Partition Scheme）中选择 `Huge APP` 或开启 `PSRAM`。
- 建议配合专门的 3D 转换 APP 使用以获得最佳视觉效果。

---

## 🌟 关注我们

如果您对蓝牙开发感兴趣，请订阅我们的频道：
👉 **[YouTube: 轻松易学嵌入式](https://www.youtube.com/@easymcu)**

让我们一起轻松玩转嵌入式！
