# 📟 ESP32 串口通讯实战：UART 板间“乒乓”通讯

欢迎来到 **轻松易学嵌入式** 频道！本实验将带你深入理解嵌入式开发中最常用的通讯协议——**UART (通用异步收发传输器)**。我们将通过两块 ESP32 板子的互相“传球”，演示串口数据的收发逻辑。

📺 **配套视频教程**:

[![ESP32 UART 串口通讯实战](https://img.youtube.com/vi/j5wEN_ty7U8/maxresdefault.jpg)](https://www.youtube.com/watch?v=j5wEN_ty7U8)

*点击上方图片直接跳转到 YouTube 观看*

---

## 🛠️ 实验目标：掌握双机通讯底层逻辑

串口通讯不只是把板子连上电脑。本实验通过一个“加一”游戏，展示了 UART 全双工收发的完整闭环。

### 1. 🔍 核心技术点

*   **多串口管理 (`HardwareSerial`)**: 
    ESP32 拥有多个物理串口。我们保留 `Serial0` 用于电脑调试，同时开辟 `Serial1` 用于板间通讯，实现了“后台调试，前台通讯”的效果。
*   **引脚映射 (Muxing)**: 
    ESP32 的强大之处在于可以将 UART 功能映射到几乎任何 GPIO。本实验使用了 GPIO 6 (RX) 和 GPIO 7 (TX)。
*   **数据流闭环**:
    *   **发起**: 按下按键，发送起始数字 `0`。
    *   **响应**: 收到数字 -> 自动加 1 -> 回传对方。
    *   **循环**: 只要连接正常，两个板子之间会不断进行数字的递增接力。

### 2. ⚡ 硬件连接说明

本实验建议使用两块 ESP32 开发板（如 ESP32-C3 Super Mini）配合进行。

| 连接方向 | 开发板 A | 开发板 B | 备注 |
| :--- | :--- | :--- | :--- |
| **TX -> RX** | GPIO 7 | GPIO 6 | 交叉连接 |
| **RX -> TX** | GPIO 6 | GPIO 7 | 交叉连接 |
| **GND -> GND** | GND | GND | **必须共地** |
| **按键输入** | GPIO 10 | GPIO 10 | 一端接引脚，一端接地 |

---

## 🚀 实验步骤

1.  **准备硬件**: 准备两块 ESP32 板子，按照上表交叉连接 TX/RX 信号线，并**务必连接 GND**。
2.  **上传代码**: 将 `L7_uart.ino` 分别上传到两块开发板中。
3.  **开启监听**: 分别打开两个串口监视器（波特率 `115200`）。
4.  **发起通讯**: 按下其中一块板子上的按键，你将看到数字在两个窗口之间“跳动”并递增。

---

## ⚠️ 避坑提醒

1.  **TX/RX 交叉**: 记住 A 的发送端 (TX) 必须连接 B 的接收端 (RX)，反之亦然。
2.  **波特率匹配**: 通讯双方的 `begin(9600)` 必须完全一致，否则由于时钟同步失败会导致乱码。
3.  **共地 (Common Ground)**: 如果两块板子由不同的电源供电，必须把它们的 GND 连在一起，否则电平参考点不一致会导致通讯完全失效。

---

## 🌟 关注我们

如果您觉得这个教程对您有帮助，请订阅我们的频道，获取更多实战干货：
👉 **[YouTube: 轻松易学嵌入式](https://www.youtube.com/@%E8%BD%BB%E6%9D%BE%E6%98%93%E5%AD%A6%E5%B5%8C%E5%85%A5%E5%BC%8F)**

让我们一起轻松玩转嵌入式！
